<!DOCTYPE html>
<html lang="en">
  <head>
    <%
      function formatDate(date) {
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July',
                        'August', 'September', 'October', 'November', 'December'];
        return months[date.getMonth()] + ' ' + date.getDate() + ', ' + date.getFullYear();
      }
      
      var postsList = posts.sort((a) => a.attributes.title === "Welcome to my new blog!" ? -1 : 0);
    %>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home |Â <%= posts.config.blogName %></title>
    <link rel="stylesheet" href="/assets/index.css" />
    <link
      rel="preload"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
    />
    <link
      rel="preload"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
      />
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
      />
    </noscript>
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <header>
      <h2><%= posts.config.ownerName %></h1>
    </header>
    <main>
      <a id="hero-post" href="/blog/<%= postsList[0].path %>">
        <img id="cover-0" src="<%=postsList[0].attributes.cover%>" alt=""/>
        <div class="f">
          <div>
            <h1><%= postsList[0].attributes.title %></h1>
            <time><%= formatDate(new Date(postsList[0].attributes.time)) %></time>
          </div>
          <p><%= postsList[0].attributes.description %></p>
        </div>
      </a>
      <div class="more">
        <h1 id="more">More Stories</h1>
        <div id="more-list">
          <% postsList.slice(1).forEach((post) => { %>
            <a class="post" href="/blog/<%= post.path %>">
              <img src="<%= post.attributes.cover %>" alt=""/>
              <h1><%= post.attributes.title %></h1>
              <time><%= formatDate(new Date(post.attributes.time)) %></time>
              <p><%= post.attributes.description%></p>
            </a>
          <% }); %>
        </div>
      </div>
    </main>
  </body>
</html>
